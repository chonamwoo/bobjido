// 국가별 국기 이모지 매핑
export const countryFlags: { [key: string]: string } = {
  // 아시아
  'Japan': '🇯🇵',
  'JP': '🇯🇵',
  '일본': '🇯🇵',
  'Korea': '🇰🇷',
  'KR': '🇰🇷',
  '한국': '🇰🇷',
  'China': '🇨🇳',
  'CN': '🇨🇳',
  '중국': '🇨🇳',
  'Thailand': '🇹🇭',
  'TH': '🇹🇭',
  '태국': '🇹🇭',
  'Vietnam': '🇻🇳',
  'VN': '🇻🇳',
  '베트남': '🇻🇳',
  'Singapore': '🇸🇬',
  'SG': '🇸🇬',
  '싱가포르': '🇸🇬',
  'Taiwan': '🇹🇼',
  'TW': '🇹🇼',
  '대만': '🇹🇼',
  'India': '🇮🇳',
  'IN': '🇮🇳',
  '인도': '🇮🇳',
  'Indonesia': '🇮🇩',
  'ID': '🇮🇩',
  '인도네시아': '🇮🇩',
  'Malaysia': '🇲🇾',
  'MY': '🇲🇾',
  '말레이시아': '🇲🇾',
  'Philippines': '🇵🇭',
  'PH': '🇵🇭',
  '필리핀': '🇵🇭',
  
  // 북미
  'USA': '🇺🇸',
  'US': '🇺🇸',
  'United States': '🇺🇸',
  '미국': '🇺🇸',
  'Canada': '🇨🇦',
  'CA': '🇨🇦',
  '캐나다': '🇨🇦',
  'Mexico': '🇲🇽',
  'MX': '🇲🇽',
  '멕시코': '🇲🇽',
  
  // 유럽
  'France': '🇫🇷',
  'FR': '🇫🇷',
  '프랑스': '🇫🇷',
  'Germany': '🇩🇪',
  'DE': '🇩🇪',
  '독일': '🇩🇪',
  'Italy': '🇮🇹',
  'IT': '🇮🇹',
  '이탈리아': '🇮🇹',
  'Spain': '🇪🇸',
  'ES': '🇪🇸',
  '스페인': '🇪🇸',
  'UK': '🇬🇧',
  'GB': '🇬🇧',
  'United Kingdom': '🇬🇧',
  '영국': '🇬🇧',
  'Netherlands': '🇳🇱',
  'NL': '🇳🇱',
  '네덜란드': '🇳🇱',
  'Belgium': '🇧🇪',
  'BE': '🇧🇪',
  '벨기에': '🇧🇪',
  'Switzerland': '🇨🇭',
  'CH': '🇨🇭',
  '스위스': '🇨🇭',
  'Sweden': '🇸🇪',
  'SE': '🇸🇪',
  '스웨덴': '🇸🇪',
  'Norway': '🇳🇴',
  'NO': '🇳🇴',
  '노르웨이': '🇳🇴',
  'Denmark': '🇩🇰',
  'DK': '🇩🇰',
  '덴마크': '🇩🇰',
  'Finland': '🇫🇮',
  'FI': '🇫🇮',
  '핀란드': '🇫🇮',
  'Poland': '🇵🇱',
  'PL': '🇵🇱',
  '폴란드': '🇵🇱',
  'Czech': '🇨🇿',
  'CZ': '🇨🇿',
  '체코': '🇨🇿',
  'Austria': '🇦🇹',
  'AT': '🇦🇹',
  '오스트리아': '🇦🇹',
  'Greece': '🇬🇷',
  'GR': '🇬🇷',
  '그리스': '🇬🇷',
  'Turkey': '🇹🇷',
  'TR': '🇹🇷',
  '터키': '🇹🇷',
  'Russia': '🇷🇺',
  'RU': '🇷🇺',
  '러시아': '🇷🇺',
  'Portugal': '🇵🇹',
  'PT': '🇵🇹',
  '포르투갈': '🇵🇹',
  'Ireland': '🇮🇪',
  'IE': '🇮🇪',
  '아일랜드': '🇮🇪',
  
  // 오세아니아
  'Australia': '🇦🇺',
  'AU': '🇦🇺',
  '호주': '🇦🇺',
  'New Zealand': '🇳🇿',
  'NZ': '🇳🇿',
  '뉴질랜드': '🇳🇿',
  
  // 남미
  'Brazil': '🇧🇷',
  'BR': '🇧🇷',
  '브라질': '🇧🇷',
  'Argentina': '🇦🇷',
  'AR': '🇦🇷',
  '아르헨티나': '🇦🇷',
  'Chile': '🇨🇱',
  'CL': '🇨🇱',
  '칠레': '🇨🇱',
  'Peru': '🇵🇪',
  'PE': '🇵🇪',
  '페루': '🇵🇪',
  
  // 중동
  'UAE': '🇦🇪',
  'AE': '🇦🇪',
  '아랍에미리트': '🇦🇪',
  'Saudi Arabia': '🇸🇦',
  'SA': '🇸🇦',
  '사우디': '🇸🇦',
  'Israel': '🇮🇱',
  'IL': '🇮🇱',
  '이스라엘': '🇮🇱',
  
  // 아프리카
  'Egypt': '🇪🇬',
  'EG': '🇪🇬',
  '이집트': '🇪🇬',
  'South Africa': '🇿🇦',
  'ZA': '🇿🇦',
  '남아공': '🇿🇦',
  'Morocco': '🇲🇦',
  'MA': '🇲🇦',
  '모로코': '🇲🇦'
};

// 국가 코드나 이름으로 국기 가져오기
export const getFlag = (country: string): string => {
  if (!country) return '🌍';
  
  // 여러 형식 시도
  const flag = countryFlags[country] || 
               countryFlags[country.toUpperCase()] || 
               countryFlags[country.charAt(0).toUpperCase() + country.slice(1).toLowerCase()] ||
               '🌍';
  
  return flag;
};

// 도시 정보에서 국기 가져오기
export const getCityFlag = (city: string, country?: string): string => {
  // 도시명에서 국가 추출 시도
  const cityCountryMap: { [key: string]: string } = {
    '도쿄': '🇯🇵',
    'Tokyo': '🇯🇵',
    '오사카': '🇯🇵',
    'Osaka': '🇯🇵',
    '교토': '🇯🇵',
    'Kyoto': '🇯🇵',
    '서울': '🇰🇷',
    'Seoul': '🇰🇷',
    '부산': '🇰🇷',
    'Busan': '🇰🇷',
    '뉴욕': '🇺🇸',
    'New York': '🇺🇸',
    '로스앤젤레스': '🇺🇸',
    'Los Angeles': '🇺🇸',
    '파리': '🇫🇷',
    'Paris': '🇫🇷',
    '런던': '🇬🇧',
    'London': '🇬🇧',
    '베를린': '🇩🇪',
    'Berlin': '🇩🇪',
    '로마': '🇮🇹',
    'Rome': '🇮🇹',
    '마드리드': '🇪🇸',
    'Madrid': '🇪🇸',
    '바르셀로나': '🇪🇸',
    'Barcelona': '🇪🇸',
    '시드니': '🇦🇺',
    'Sydney': '🇦🇺',
    '멜버른': '🇦🇺',
    'Melbourne': '🇦🇺',
    '방콕': '🇹🇭',
    'Bangkok': '🇹🇭',
    '싱가포르': '🇸🇬',
    'Singapore': '🇸🇬',
    '홍콩': '🇭🇰',
    'Hong Kong': '🇭🇰',
    '베이징': '🇨🇳',
    'Beijing': '🇨🇳',
    '상하이': '🇨🇳',
    'Shanghai': '🇨🇳',
    '두바이': '🇦🇪',
    'Dubai': '🇦🇪',
    '이스탄불': '🇹🇷',
    'Istanbul': '🇹🇷'
  };
  
  // 먼저 도시명으로 찾기
  if (cityCountryMap[city]) {
    return cityCountryMap[city];
  }
  
  // country 파라미터가 있으면 사용
  if (country) {
    return getFlag(country);
  }
  
  return '🌍';
};