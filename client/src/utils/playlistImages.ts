// 플레이리스트용 다양한 음식 이미지 컬렉션
// 각 플레이리스트가 고유한 이미지를 가지도록 더 많은 옵션 제공

export const PLAYLIST_IMAGES = {
  // 한식 관련 플레이리스트 이미지
  korean: [
    'https://images.unsplash.com/photo-1583224994076-ae951d019af7?w=600&h=400&fit=crop&q=80', // 김치찌개
    'https://images.unsplash.com/photo-1590301157890-4810ed352733?w=600&h=400&fit=crop&q=80', // 비빔밥
    'https://images.unsplash.com/photo-1553163147-622ab57be1c7?w=600&h=400&fit=crop&q=80', // 한정식
    'https://images.unsplash.com/photo-1580651315530-69c333cf5d4f?w=600&h=400&fit=crop&q=80', // 삼겹살
    'https://images.unsplash.com/photo-1583032015879-e5022cb87c3b?w=600&h=400&fit=crop&q=80', // 전통 한식
    'https://images.unsplash.com/photo-1591814468924-caf88d1232e1?w=600&h=400&fit=crop&q=80', // 고기구이
    'https://images.unsplash.com/photo-1635363638580-c2809d049eee?w=600&h=400&fit=crop&q=80', // 떡볶이
    'https://images.unsplash.com/photo-1609501676725-7186f017a4b7?w=600&h=400&fit=crop&q=80', // 냉면
  ],

  // 일식 관련 플레이리스트 이미지
  japanese: [
    'https://images.unsplash.com/photo-1579584425555-c3ce17fd4351?w=600&h=400&fit=crop&q=80', // 스시 세트
    'https://images.unsplash.com/photo-1617196034796-73dfa7b1fd56?w=600&h=400&fit=crop&q=80', // 라멘
    'https://images.unsplash.com/photo-1553621042-f6e147245754?w=600&h=400&fit=crop&q=80', // 오마카세
    'https://images.unsplash.com/photo-1580822184713-fc5400e7fe10?w=600&h=400&fit=crop&q=80', // 우동
    'https://images.unsplash.com/photo-1611143669185-af224c5e3252?w=600&h=400&fit=crop&q=80', // 사시미
    'https://images.unsplash.com/photo-1582450871972-ab5ca641643d?w=600&h=400&fit=crop&q=80', // 돈카츠
    'https://images.unsplash.com/photo-1569718212165-3a8278d5f624?w=600&h=400&fit=crop&q=80', // 덮밥
    'https://images.unsplash.com/photo-1612929633738-8fe44f7ec841?w=600&h=400&fit=crop&q=80', // 이자카야
  ],

  // 중식 관련 플레이리스트 이미지
  chinese: [
    'https://images.unsplash.com/photo-1563245372-f21724e3856d?w=600&h=400&fit=crop&q=80', // 중식 만찬
    'https://images.unsplash.com/photo-1585032226651-759b368d7246?w=600&h=400&fit=crop&q=80', // 딤섬
    'https://images.unsplash.com/photo-1552566626-52f8b828add9?w=600&h=400&fit=crop&q=80', // 짜장면
    'https://images.unsplash.com/photo-1582878826629-29b7ad1cdc43?w=600&h=400&fit=crop&q=80', // 중식 요리
    'https://images.unsplash.com/photo-1525755662778-989d0524087e?w=600&h=400&fit=crop&q=80', // 마라탕
    'https://images.unsplash.com/photo-1569718212165-3a8278d5f624?w=600&h=400&fit=crop&q=80', // 볶음요리
    'https://images.unsplash.com/photo-1617692855027-33b14f061079?w=600&h=400&fit=crop&q=80', // 꿔바로우
    'https://images.unsplash.com/photo-1526318896980-cf78c088247c?w=600&h=400&fit=crop&q=80', // 중식 테이블
  ],

  // 양식 관련 플레이리스트 이미지
  western: [
    'https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=600&h=400&fit=crop&q=80', // 파스타
    'https://images.unsplash.com/photo-1432139555190-58524dae6a55?w=600&h=400&fit=crop&q=80', // 스테이크
    'https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=600&h=400&fit=crop&q=80', // 피자
    'https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=600&h=400&fit=crop&q=80', // 버거
    'https://images.unsplash.com/photo-1467003909585-2f8a72700288?w=600&h=400&fit=crop&q=80', // 파인다이닝
    'https://images.unsplash.com/photo-1476224203421-9ac39bcb3327?w=600&h=400&fit=crop&q=80', // 브런치
    'https://images.unsplash.com/photo-1515669097368-22e68427d265?w=600&h=400&fit=crop&q=80', // 샐러드
    'https://images.unsplash.com/photo-1544025162-d76694265947?w=600&h=400&fit=crop&q=80', // BBQ
  ],

  // 카페/디저트 관련 플레이리스트 이미지
  cafe: [
    'https://images.unsplash.com/photo-1554118811-1e0d58224f24?w=600&h=400&fit=crop&q=80', // 카페
    'https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=600&h=400&fit=crop&q=80', // 커피
    'https://images.unsplash.com/photo-1551024601-bec78aea704b?w=600&h=400&fit=crop&q=80', // 디저트
    'https://images.unsplash.com/photo-1587314168485-3236d6710814?w=600&h=400&fit=crop&q=80', // 케이크
    'https://images.unsplash.com/photo-1559305616-3f99cd43e353?w=600&h=400&fit=crop&q=80', // 브런치 카페
    'https://images.unsplash.com/photo-1464305795204-6f5bbfc7fb81?w=600&h=400&fit=crop&q=80', // 도넛
    'https://images.unsplash.com/photo-1542326237-94b1c5a538d4?w=600&h=400&fit=crop&q=80', // 아이스크림
    'https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=600&h=400&fit=crop&q=80', // 카페 인테리어
  ],

  // 동남아/아시안 관련 플레이리스트 이미지
  asian: [
    'https://images.unsplash.com/photo-1617093727343-374698b1b08d?w=600&h=400&fit=crop&q=80', // 베트남 쌀국수
    'https://images.unsplash.com/photo-1559314809-0d155014e29e?w=600&h=400&fit=crop&q=80', // 태국 음식
    'https://images.unsplash.com/photo-1582576163090-09d3b5bf7fdf?w=600&h=400&fit=crop&q=80', // 인도 커리
    'https://images.unsplash.com/photo-1596040033229-a9821ebd058d?w=600&h=400&fit=crop&q=80', // 팟타이
    'https://images.unsplash.com/photo-1534422298391-e4f8c172dddb?w=600&h=400&fit=crop&q=80', // 아시안 누들
    'https://images.unsplash.com/photo-1512058564366-18510be2db19?w=600&h=400&fit=crop&q=80', // 인도네시아
    'https://images.unsplash.com/photo-1552566626-52f8b828add9?w=600&h=400&fit=crop&q=80', // 아시안 플래터
    'https://images.unsplash.com/photo-1562565652-a0d8f0c59eb4?w=600&h=400&fit=crop&q=80', // 싱가포르 음식
  ],

  // 분위기별 플레이리스트 이미지
  mood: [
    'https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=600&h=400&fit=crop&q=80', // 로맨틱 디너
    'https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=600&h=400&fit=crop&q=80', // 레스토랑
    'https://images.unsplash.com/photo-1550966871-3ed3cdb5ed0c?w=600&h=400&fit=crop&q=80', // 루프탑
    'https://images.unsplash.com/photo-1544148103-0773bf10d330?w=600&h=400&fit=crop&q=80', // 파인다이닝
    'https://images.unsplash.com/photo-1552566626-52f8b828add9?w=600&h=400&fit=crop&q=80', // 캐주얼
    'https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=600&h=400&fit=crop&q=80', // 바/펍
    'https://images.unsplash.com/photo-1481833761820-0509d3217039?w=600&h=400&fit=crop&q=80', // 오션뷰
    'https://images.unsplash.com/photo-1559339352-11d035aa65de?w=600&h=400&fit=crop&q=80', // 가든
  ],

  // 스트리트푸드/캐주얼 플레이리스트 이미지
  street: [
    'https://images.unsplash.com/photo-1606787366850-de6330128bfc?w=600&h=400&fit=crop&q=80', // 길거리 음식
    'https://images.unsplash.com/photo-1561758033-7e924f619b47?w=600&h=400&fit=crop&q=80', // 핫도그
    'https://images.unsplash.com/photo-1599974579688-8dbdd335c77f?w=600&h=400&fit=crop&q=80', // 타코
    'https://images.unsplash.com/photo-1603360946369-dc9bb6258143?w=600&h=400&fit=crop&q=80', // 치킨
    'https://images.unsplash.com/photo-1565123409695-7b5ef63a2efb?w=600&h=400&fit=crop&q=80', // 분식
    'https://images.unsplash.com/photo-1572802419224-296b0aeee0d9?w=600&h=400&fit=crop&q=80', // 튀김
    'https://images.unsplash.com/photo-1541592106381-b31e9677c0e5?w=600&h=400&fit=crop&q=80', // 꼬치
    'https://images.unsplash.com/photo-1614707267537-b85aaf00c4b7?w=600&h=400&fit=crop&q=80', // 포장마차
  ]
};

// 플레이리스트에 맞는 이미지 카테고리 결정
const determineImageCategory = (playlist: any): string => {
  const title = (playlist.title || '').toLowerCase();
  const description = (playlist.description || '').toLowerCase();
  const category = (playlist.category || '').toLowerCase();
  const tags = (playlist.tags || []).join(' ').toLowerCase();
  const combined = `${title} ${description} ${category} ${tags}`;

  // 카테고리별 키워드 매칭
  if (combined.match(/한식|한국|김치|된장|불고기|갈비|삼겹|전통/)) return 'korean';
  if (combined.match(/일식|일본|스시|라멘|초밥|사시미|우동|돈카츠/)) return 'japanese';
  if (combined.match(/중식|중국|짜장|짬뽕|탕수육|마라|딤섬|볶음밥/)) return 'chinese';
  if (combined.match(/양식|이태리|이탈리|파스타|피자|스테이크|버거|브런치/)) return 'western';
  if (combined.match(/카페|커피|디저트|케이크|베이커리|빵|아이스크림/)) return 'cafe';
  if (combined.match(/동남아|베트남|태국|인도|쌀국수|팟타이|커리|아시아/)) return 'asian';
  if (combined.match(/분식|길거리|포차|꼬치|튀김|떡볶이|순대|김밥/)) return 'street';
  if (combined.match(/데이트|로맨틱|분위기|뷰|루프탑|오션뷰|야경|와인/)) return 'mood';
  
  // 기본값
  return 'mood';
};

// 플레이리스트별 고유 이미지 선택
export const getUniquePlaylistImage = (playlist: any): string => {
  const category = determineImageCategory(playlist);
  const categoryImages = PLAYLIST_IMAGES[category as keyof typeof PLAYLIST_IMAGES];
  
  if (!categoryImages || categoryImages.length === 0) {
    return PLAYLIST_IMAGES.mood[0];
  }

  // 플레이리스트 ID 또는 제목을 기반으로 일관된 이미지 선택
  let hash = 0;
  const idString = playlist._id || playlist.title || 'default';
  
  for (let i = 0; i < idString.length; i++) {
    const char = idString.charCodeAt(i);
    hash = ((hash << 5) - hash) + char;
    hash = hash & hash; // Convert to 32bit integer
  }
  
  const imageIndex = Math.abs(hash) % categoryImages.length;
  return categoryImages[imageIndex];
};

// 랜덤 이미지 선택 (새로고침 시 다른 이미지)
export const getRandomPlaylistImage = (category?: string): string => {
  const selectedCategory = category || 'mood';
  const categoryImages = PLAYLIST_IMAGES[selectedCategory as keyof typeof PLAYLIST_IMAGES] || PLAYLIST_IMAGES.mood;
  const randomIndex = Math.floor(Math.random() * categoryImages.length);
  return categoryImages[randomIndex];
};

// 모든 카테고리에서 랜덤 이미지
export const getAnyRandomImage = (): string => {
  const allCategories = Object.keys(PLAYLIST_IMAGES);
  const randomCategory = allCategories[Math.floor(Math.random() * allCategories.length)];
  return getRandomPlaylistImage(randomCategory);
};