const mongoose = require('mongoose');
const Playlist = require('./server/models/Playlist');
const Restaurant = require('./server/models/Restaurant');
require('dotenv').config();

// ì¹´í…Œê³ ë¦¬ë³„ & í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ë³„ ì •í™•í•œ ì´ìœ  í…œí”Œë¦¿
const reasonTemplates = {
  'í•œì‹': {
    'ë§›ì§‘íˆ¬ì–´': [
      '{name}ì˜ ê¹€ì¹˜ì°Œê°œëŠ” ì§„ì§œ ì—„ë§ˆ ì†ë§›',
      '{name}ì—ì„œ ë¨¹ì€ ëœì¥ì°Œê°œê°€ ìµœê³ ì˜€ì–´ìš”',
      '{name}ì˜ ë¶ˆê³ ê¸°ëŠ” ê¼­ ë¨¹ì–´ë´ì•¼ í•´ìš”',
      '{name} ì‚¼ê²¹ì‚´ì€ ê³ ê¸° ì§ˆì´ ë‚¨ë‹¤ë¥´ë„¤ìš”',
      '{name}ì˜ ê°ˆë¹„íƒ• êµ­ë¬¼ì´ ì§„êµ­ì´ì—ìš”',
      '{name} ëƒ‰ë©´ì€ ì—¬ë¦„ì— ìµœê³ ',
      '{name}ì˜ ë¹„ë¹”ë°¥ì€ ì¬ë£Œê°€ ì‹ ì„ í•´ìš”',
      '{name} ì œìœ¡ë³¶ìŒì€ ë§¤ì½¤í•œê²Œ ì¤‘ë…ì„± ìˆì–´ìš”',
      '{name}ì˜ ê¹€ì¹˜ì „ì€ ë§‰ê±¸ë¦¬ë‘ ì™„ë²½í•´ìš”',
      '{name} ìˆœë‘ë¶€ì°Œê°œëŠ” ì–¼í°í•˜ê³  ì‹œì›í•´ìš”'
    ],
    'ê°€ì¡±ëª¨ì„': [
      '{name}ì˜ í•œì •ì‹ì€ ë¶€ëª¨ë‹˜ì´ ì¢‹ì•„í•˜ì„¸ìš”',
      '{name}ëŠ” ë£¸ì´ ìˆì–´ì„œ ê°€ì¡±ëª¨ì„ì— ì¢‹ì•„ìš”',
      '{name}ì˜ ê°ˆë¹„ì°œì€ ì˜¨ ê°€ì¡±ì´ ì¢‹ì•„í•´ìš”',
      '{name} ë³´ìŒˆì€ ê°€ì¡± ì™¸ì‹ìœ¼ë¡œ ìµœê³ ',
      '{name}ì˜ ì „ê³¨ ë©”ë‰´ê°€ í‘¸ì§í•´ìš”',
      '{name}ëŠ” ì–´ë¥¸ë“¤ ì…ë§›ì— ë”±ì´ì—ìš”',
      '{name}ì˜ ë¶ˆê³ ê¸° ì „ê³¨ì€ ì•„ì´ë“¤ë„ ì¢‹ì•„í•´ìš”',
      '{name} ì‚¼ê³„íƒ•ì€ ë³´ì–‘ì‹ìœ¼ë¡œ ì¢‹ì•„ìš”',
      '{name}ì˜ í•œì‹ ë·”í˜ê°€ ë‹¤ì–‘í•´ìš”',
      '{name}ëŠ” ì£¼ì°¨ê°€ í¸í•´ì„œ ê°€ì¡±ëª¨ì„ì— ì¢‹ì•„ìš”'
    ],
    'í˜¼ë°¥': [
      '{name}ëŠ” 1ì¸ ë©”ë‰´ê°€ ì˜ ë˜ì–´ìˆì–´ìš”',
      '{name}ì˜ ê¹€ì¹˜ì°Œê°œ ë°±ë°˜ ê°€ì„±ë¹„ ìµœê³ ',
      '{name}ì—ì„œ í˜¼ë°¥í•´ë„ ëˆˆì¹˜ ì•ˆ ë³´ì—¬ìš”',
      '{name}ëŠ” ì¹´ìš´í„°ì„ì´ ìˆì–´ í¸í•´ìš”',
      '{name}ì˜ ëŒì†¥ë¹„ë¹”ë°¥ í˜¼ì ë¨¹ê¸° ì¢‹ì•„ìš”',
      '{name} ë°±ë°˜ ë©”ë‰´ê°€ ì•Œì°¨ìš”',
      '{name}ëŠ” ë¹ ë¥´ê²Œ ë‚˜ì™€ì„œ ì ì‹¬ì— ì¢‹ì•„ìš”',
      '{name}ì˜ êµ­ë°¥ì€ í˜¼ë°¥ ìµœê³  ë©”ë‰´',
      '{name} ê¹€ë°¥ì²œêµ­ ìŠ¤íƒ€ì¼ë¡œ í¸í•´ìš”',
      '{name}ëŠ” 24ì‹œê°„ì´ë¼ ì–¸ì œë“  í˜¼ë°¥ ê°€ëŠ¥'
    ],
    'íšŒì‹': [
      '{name}ëŠ” ê³ ê¸° ì§ˆì´ ì¢‹ì•„ì„œ íšŒì‹ì— ë”±',
      '{name}ì˜ ë‹¨ì²´ ë£¸ì´ ë„“ì–´ìš”',
      '{name} ì‚¼ê²¹ì‚´ì— ì†Œì£¼ ì¡°í•© ìµœê³ ',
      '{name}ëŠ” ì§ì¥ì¸ë“¤ì´ ë§ì´ ì°¾ì•„ìš”',
      '{name}ì˜ ê°ˆë¹„ëŠ” íšŒì‹ ëŒ€í‘œ ë©”ë‰´',
      '{name} ë§‰ê±¸ë¦¬ê°€ ë§›ìˆì–´ìš”',
      '{name}ëŠ” 2ì°¨ë¡œ ê°€ê¸° ì¢‹ì€ ìœ„ì¹˜',
      '{name}ì˜ ì•ˆì£¼ ë©”ë‰´ê°€ ë‹¤ì–‘í•´ìš”',
      '{name} ëŒ€íŒ¨ì‚¼ê²¹ì‚´ ë¬´í•œë¦¬í•„',
      '{name}ëŠ” ëŠ¦ê²Œê¹Œì§€ ì˜ì—…í•´ì„œ íšŒì‹ì— ì¢‹ì•„ìš”'
    ],
    'ë°ì´íŠ¸ì½”ìŠ¤': [
      '{name}ì˜ ë¶„ìœ„ê¸°ê°€ ë¡œë§¨í‹±í•´ìš”',
      '{name}ëŠ” ì¡°ìš©í•´ì„œ ëŒ€í™”í•˜ê¸° ì¢‹ì•„ìš”',
      '{name}ì˜ í•œì˜¥ ì¸í…Œë¦¬ì–´ê°€ ì˜ˆë»ìš”',
      '{name} ì „í†µì°¨ë„ í•¨ê»˜ ì¦ê¸¸ ìˆ˜ ìˆì–´ìš”',
      '{name}ëŠ” ì•¼ê²½ì´ ë³´ì´ëŠ” ìë¦¬ê°€ ìˆì–´ìš”',
      '{name}ì˜ ì½”ìŠ¤ ìš”ë¦¬ê°€ íŠ¹ë³„í•´ìš”',
      '{name} ì •ì›ì´ ì•„ë¦„ë‹¤ì›Œìš”',
      '{name}ëŠ” í”„ë¼ì´ë¹—í•œ ê³µê°„ì´ ìˆì–´ìš”',
      '{name}ì˜ ì „í†µ ê³µì—°ë„ ë³¼ ìˆ˜ ìˆì–´ìš”',
      '{name} í•œë³µ ëŒ€ì—¬ë„ ê°€ëŠ¥í•´ìš”'
    ]
  },
  'ì¤‘ì‹': {
    'ë§›ì§‘íˆ¬ì–´': [
      '{name}ì˜ ì§œì¥ë©´ì€ ì˜›ë‚  ë§› ê·¸ëŒ€ë¡œ',
      '{name} ì§¬ë½• êµ­ë¬¼ì´ ì‹œì›í•´ìš”',
      '{name}ì˜ íƒ•ìˆ˜ìœ¡ì´ ë°”ì‚­ë°”ì‚­',
      '{name} ë§ˆíŒŒë‘ë¶€ê°€ ì •í†µ ì¤‘êµ­ì‹',
      '{name}ì˜ ê¹í’ê¸°ê°€ ì¼í’ˆì´ì—ìš”',
      '{name} ì–‘ì¥í”¼ ì†ŒìŠ¤ê°€ íŠ¹ë³„í•´ìš”',
      '{name}ì˜ ê³ ì¶”ì¡ì±„ê°€ ë§¤ì½¤ë‹¬ì½¤',
      '{name} íŒ”ë³´ì±„ê°€ í•´ì‚°ë¬¼ì´ ì‹ ì„ í•´ìš”',
      '{name}ì˜ ìœ ë¦°ê¸°ê°€ ë¶€ë“œëŸ¬ì›Œìš”',
      '{name} ë§ˆë¼íƒ•ì€ ì¤‘ë…ì„± ìˆì–´ìš”'
    ],
    'ì¹œêµ¬ëª¨ì„': [
      '{name}ëŠ” ìš”ë¦¬ë¥¼ ë‚˜ëˆ ë¨¹ê¸° ì¢‹ì•„ìš”',
      '{name}ì˜ ì½”ìŠ¤ ë©”ë‰´ê°€ í‘¸ì§í•´ìš”',
      '{name} ì¤‘êµ­ ìˆ ë„ ë‹¤ì–‘í•´ìš”',
      '{name}ëŠ” ë‹¨ì²´ ì˜ˆì•½ì´ í¸í•´ìš”',
      '{name}ì˜ ì„¸íŠ¸ ë©”ë‰´ê°€ ê°€ì„±ë¹„ ì¢‹ì•„ìš”',
      '{name} ê°œì¸ ë£¸ì´ ìˆì–´ìš”',
      '{name}ëŠ” ëŠ¦ê²Œê¹Œì§€ ì˜ì—…í•´ìš”',
      '{name}ì˜ ì–‘ì´ ë§ì•„ì„œ ë‚˜ëˆ ë¨¹ê¸° ì¢‹ì•„ìš”',
      '{name} ëƒ‰ë©´ë„ ë§›ìˆì–´ìš”',
      '{name}ëŠ” ì£¼ì°¨ê°€ í¸í•´ìš”'
    ],
    'ê°€ì¡±ëª¨ì„': [
      '{name}ì˜ ì½”ìŠ¤ìš”ë¦¬ê°€ í‘¸ì§í•´ìš”',
      '{name}ëŠ” ì•„ì´ë“¤ ë©”ë‰´ë„ ìˆì–´ìš”',
      '{name} ê°œì¸ ë£¸ì´ ë„“ì–´ìš”',
      '{name}ì˜ ìš”ë¦¬ê°€ MSG ì—†ì´ ê¹”ë”í•´ìš”',
      '{name}ëŠ” ì–´ë¥¸ë“¤ë„ ì¢‹ì•„í•˜ëŠ” ë§›',
      '{name}ì˜ ì¤‘í™”ëƒ‰ì±„ê°€ ì…ë§› ë‹ì›Œìš”',
      '{name} ëˆ„ë£½ì§€íƒ•ì´ ë³„ë¯¸ì—ìš”',
      '{name}ëŠ” ê°€ì¡± ë‹¨ìœ„ ì„¸íŠ¸ê°€ ìˆì–´ìš”',
      '{name}ì˜ ë”¤ì„¬ì´ ë‹¤ì–‘í•´ìš”',
      '{name} ë¶ê²½ì˜¤ë¦¬ê°€ íŠ¹ë³„í•œ ë‚ ì— ì¢‹ì•„ìš”'
    ]
  },
  'ì¼ì‹': {
    'ë§›ì§‘íˆ¬ì–´': [
      '{name}ì˜ ìŠ¤ì‹œê°€ ì‹ ì„ í•´ìš”',
      '{name} ì‚¬ì‹œë¯¸ê°€ ë‘íˆ¼í•´ìš”',
      '{name}ì˜ ë¼ë©˜ êµ­ë¬¼ì´ ì§„í•´ìš”',
      '{name} ìš°ë™ ë©´ë°œì´ ì«„ê¹ƒí•´ìš”',
      '{name}ì˜ ëˆì¹´ì¸ ê°€ ë°”ì‚­í•´ìš”',
      '{name} ëˆë¶€ë¦¬ê°€ í‘¸ì§í•´ìš”',
      '{name}ì˜ ë´í‘¸ë¼ê°€ ê°€ë²¼ì›Œìš”',
      '{name} ì˜¤ì½”ë…¸ë¯¸ì•¼í‚¤ê°€ ì •í†µì´ì—ìš”',
      '{name}ì˜ ê°€ë¼ì•„ê²Œê°€ ìœ¡ì¦™ ê°€ë“',
      '{name} ê·œë™ì´ ë¶€ë“œëŸ¬ì›Œìš”'
    ],
    'ë°ì´íŠ¸ì½”ìŠ¤': [
      '{name}ì˜ ì˜¤ë§ˆì¹´ì„¸ê°€ íŠ¹ë³„í•´ìš”',
      '{name}ëŠ” ì¡°ìš©í•œ ë¶„ìœ„ê¸°ê°€ ì¢‹ì•„ìš”',
      '{name}ì˜ ê°œì¸ ë£¸ì´ í”„ë¼ì´ë¹—í•´ìš”',
      '{name} ì‚¬ì¼€ ì¢…ë¥˜ê°€ ë‹¤ì–‘í•´ìš”',
      '{name}ì˜ ì¹´ì´ì„¸í‚¤ ìš”ë¦¬ê°€ ì˜ˆìˆ ì´ì—ìš”',
      '{name}ëŠ” ë°” ì¢Œì„ì´ ë¡œë§¨í‹±í•´ìš”',
      '{name}ì˜ ì •ì› ë·°ê°€ ì•„ë¦„ë‹¤ì›Œìš”',
      '{name} ì…°í”„ë‹˜ê³¼ ëŒ€í™”ë„ ì¦ê±°ì›Œìš”',
      '{name}ëŠ” ê¸°ë…ì¼ì— ê°€ê¸° ì¢‹ì•„ìš”',
      '{name}ì˜ ë””ì €íŠ¸ë„ íŠ¹ë³„í•´ìš”'
    ],
    'í˜¼ë°¥': [
      '{name}ì˜ ë¼ë©˜ì€ í˜¼ë°¥ ìµœê³ ',
      '{name} ëˆë¶€ë¦¬ ì„¸íŠ¸ê°€ ì•Œì°¨ìš”',
      '{name}ëŠ” ì¹´ìš´í„°ì„ì´ í¸í•´ìš”',
      '{name}ì˜ ì •ì‹ ë©”ë‰´ê°€ ê°€ì„±ë¹„ ì¢‹ì•„ìš”',
      '{name} ìš°ë™ì´ ë¹¨ë¦¬ ë‚˜ì™€ìš”',
      '{name}ëŠ” 1ì¸ ì˜¤ë§ˆì¹´ì„¸ë„ ê°€ëŠ¥í•´ìš”',
      '{name}ì˜ ë²¤ë˜ê°€ ê¹”ë”í•´ìš”',
      '{name} ì¹´ë ˆê°€ ë“ ë“ í•´ìš”',
      '{name}ëŠ” í˜¼ë°¥ì¡±ì´ ë§ì•„ìš”',
      '{name}ì˜ ëŸ°ì¹˜ ì„¸íŠ¸ê°€ ì¸ê¸°'
    ]
  },
  'ì–‘ì‹': {
    'ë°ì´íŠ¸ì½”ìŠ¤': [
      '{name}ì˜ íŒŒìŠ¤íƒ€ê°€ ì•Œë´í…Œë¡œ ì™„ë²½í•´ìš”',
      '{name}ëŠ” ì™€ì¸ ë¦¬ìŠ¤íŠ¸ê°€ í›Œë¥­í•´ìš”',
      '{name}ì˜ ìŠ¤í…Œì´í¬ê°€ ë¶€ë“œëŸ¬ì›Œìš”',
      '{name} ë¦¬ì¡°ë˜ê°€ í¬ë¦¬ë¯¸í•´ìš”',
      '{name}ì˜ ë¶„ìœ„ê¸°ê°€ ë¡œë§¨í‹±í•´ìš”',
      '{name}ëŠ” ì•¼ê²½ì´ ë©‹ì ¸ìš”',
      '{name}ì˜ ì½”ìŠ¤ ë©”ë‰´ê°€ êµ¬ì„±ì´ ì¢‹ì•„ìš”',
      '{name} ë””ì €íŠ¸ê°€ ì˜ˆìˆ ì´ì—ìš”',
      '{name}ëŠ” í”„ë¡œí¬ì¦ˆ í•˜ê¸° ì¢‹ì•„ìš”',
      '{name}ì˜ ì…°í”„ ì¶”ì²œ ë©”ë‰´ê°€ íŠ¹ë³„í•´ìš”'
    ],
    'ë¸ŒëŸ°ì¹˜': [
      '{name}ì˜ ì—ê·¸ ë² ë„¤ë”•íŠ¸ê°€ ìµœê³ ',
      '{name} íŒ¬ì¼€ì´í¬ê°€ í­ì‹ í•´ìš”',
      '{name}ì˜ í”„ë Œì¹˜ í† ìŠ¤íŠ¸ê°€ ë‹¬ì½¤í•´ìš”',
      '{name} ì•„ë³´ì¹´ë„ í† ìŠ¤íŠ¸ê°€ ê±´ê°•í•´ìš”',
      '{name}ì˜ ë¸ŒëŸ°ì¹˜ í”Œë ˆì´íŠ¸ê°€ í‘¸ì§í•´ìš”',
      '{name}ëŠ” ì»¤í”¼ë„ ë§›ìˆì–´ìš”',
      '{name}ì˜ ìŠ¤ë¬´ë””ë³¼ì´ ì¸ìŠ¤íƒ€ ê°ì„±',
      '{name} ë² ì´ê¸€ì´ ì«„ê¹ƒí•´ìš”',
      '{name}ëŠ” í…Œë¼ìŠ¤ê°€ ì˜ˆë»ìš”',
      '{name}ì˜ ì˜¤ë¯ˆë ›ì´ ë¶€ë“œëŸ¬ì›Œìš”'
    ],
    'ë§›ì§‘íˆ¬ì–´': [
      '{name}ì˜ í”¼ì ë„ìš°ê°€ ì«„ê¹ƒí•´ìš”',
      '{name} ê¹Œë¥´ë³´ë‚˜ë¼ê°€ ì§„ì§œ ì´íƒˆë¦¬ì•„ì‹',
      '{name}ì˜ ë¶€ë¼íƒ€ ì¹˜ì¦ˆê°€ ì‹ ì„ í•´ìš”',
      '{name} ë‡¨ë¼ê°€ ìˆ˜ì œë¡œ ë§Œë“¤ì–´ìš”',
      '{name}ì˜ í‹°ë³¸ ìŠ¤í…Œì´í¬ê°€ ì••ê¶Œ',
      '{name} í•´ì‚°ë¬¼ íŒŒìŠ¤íƒ€ê°€ ì‹±ì‹±í•´ìš”',
      '{name}ì˜ íŠ¸ëŸ¬í”Œ ìš”ë¦¬ê°€ í–¥ê¸‹í•´ìš”',
      '{name} ë¼ìëƒê°€ ì¸µì¸µì´ ë§›ìˆì–´ìš”',
      '{name}ì˜ í¬ì¹´ì¹˜ì•„ê°€ ë‹´ë°±í•´ìš”',
      '{name} í‹°ë¼ë¯¸ìˆ˜ê°€ ì •í†µì´ì—ìš”'
    ]
  },
  'ì¹´í˜': {
    'ì¹´í˜íˆ¬ì–´': [
      '{name}ì˜ í•¸ë“œë“œë¦½ì´ í–¥ê¸‹í•´ìš”',
      '{name} ë¼ë–¼ ì•„íŠ¸ê°€ ì˜ˆë»ìš”',
      '{name}ì˜ ì›ë‘ê°€ ìŠ¤í˜ì…œí‹°',
      '{name} ë””ì €íŠ¸ê°€ ìˆ˜ì œë¡œ ë§Œë“¤ì–´ìš”',
      '{name}ì˜ ì¸í…Œë¦¬ì–´ê°€ ê°ê°ì ì´ì—ìš”',
      '{name}ëŠ” ë¡œìŠ¤íŒ…ì„ ì§ì ‘ í•´ìš”',
      '{name}ì˜ ì‹œê·¸ë‹ˆì²˜ ìŒë£Œê°€ íŠ¹ë³„í•´ìš”',
      '{name} í¬ë¡œí”Œì´ ë°”ì‚­í•´ìš”',
      '{name}ëŠ” ì±… ì½ê¸° ì¢‹ì•„ìš”',
      '{name}ì˜ í…Œë¼ìŠ¤ê°€ ë„“ì–´ìš”'
    ],
    'ë°ì´íŠ¸ì½”ìŠ¤': [
      '{name}ëŠ” ë¶„ìœ„ê¸°ê°€ ì•„ëŠ‘í•´ìš”',
      '{name}ì˜ ì†ŒíŒŒê°€ í¸í•´ìš”',
      '{name} ìŒì•… ì„ ê³¡ì´ ì¢‹ì•„ìš”',
      '{name}ëŠ” ì¡°ìš©í•´ì„œ ëŒ€í™”í•˜ê¸° ì¢‹ì•„ìš”',
      '{name}ì˜ ì¼€ì´í¬ê°€ ë‹¬ì§€ ì•Šì•„ìš”',
      '{name} ì•¼ê²½ì´ ì˜ˆë»ìš”',
      '{name}ëŠ” í¬í† ì¡´ì´ ë§ì•„ìš”',
      '{name}ì˜ í”Œë¼ì›Œ ì¹´í˜ ëŠë‚Œ',
      '{name} ë£¨í”„íƒ‘ì´ ë¡œë§¨í‹±í•´ìš”',
      '{name}ëŠ” í”„ë¼ì´ë¹—í•œ ê³µê°„ì´ ìˆì–´ìš”'
    ],
    'í˜¼ë°¥': [
      '{name}ëŠ” ì™€ì´íŒŒì´ê°€ ë¹µë¹µí•´ìš”',
      '{name}ì˜ ì½˜ì„¼íŠ¸ê°€ ë§ì•„ìš”',
      '{name} 1ì¸ì„ì´ í¸í•´ìš”',
      '{name}ëŠ” ë¸ŒëŸ°ì¹˜ë„ ë§›ìˆì–´ìš”',
      '{name}ì˜ ìƒŒë“œìœ„ì¹˜ê°€ ë“ ë“ í•´ìš”',
      '{name} 24ì‹œê°„ ì˜ì—…í•´ìš”',
      '{name}ëŠ” ì¡°ìš©í•´ì„œ ì§‘ì¤‘í•˜ê¸° ì¢‹ì•„ìš”',
      '{name}ì˜ ì•„ë©”ë¦¬ì¹´ë…¸ê°€ ì§„í•´ìš”',
      '{name} ì±…ì´ ë§ì•„ìš”',
      '{name}ëŠ” í˜¼ì ì˜¤ëŠ” ì‚¬ëŒì´ ë§ì•„ìš”'
    ]
  },
  'íŒ¨ìŠ¤íŠ¸í‘¸ë“œ': {
    'í˜¼ë°¥': [
      '{name}ëŠ” í‚¤ì˜¤ìŠ¤í¬ë¡œ ë¹ ë¥¸ ì£¼ë¬¸',
      '{name}ì˜ ì„¸íŠ¸ë©”ë‰´ê°€ ê°€ì„±ë¹„ ì¢‹ì•„ìš”',
      '{name} ì™€ì´íŒŒì´ê°€ ë¹ ë¥´ë„¤ìš”',
      '{name}ëŠ” í˜¼ì ë¨¹ê¸° í¸í•´ìš”',
      '{name}ì˜ ê°ìíŠ€ê¹€ì´ ë°”ì‚­í•´ìš”',
      '{name} 24ì‹œê°„ ì˜ì—…ì´ë¼ í¸í•´ìš”',
      '{name}ëŠ” ë“œë¼ì´ë¸Œ ìŠ¤ë£¨ê°€ ìˆì–´ìš”',
      '{name}ì˜ ë²„ê±°ê°€ í‘¸ì§í•´ìš”',
      '{name} ì¹˜í‚¨ì´ ì´‰ì´‰í•´ìš”',
      '{name}ëŠ” ì•± ì£¼ë¬¸ì´ í¸í•´ìš”'
    ],
    'ì¹œêµ¬ëª¨ì„': [
      '{name}ì˜ íŒŒí‹°íŒ©ì´ ê°€ì„±ë¹„ ì¢‹ì•„ìš”',
      '{name}ëŠ” ë‹¨ì²´ ì£¼ë¬¸ì´ í¸í•´ìš”',
      '{name}ì˜ ì‹ ë©”ë‰´ê°€ ë§›ìˆì–´ìš”',
      '{name} ìŒë£Œ ë¦¬í•„ì´ ë¼ìš”',
      '{name}ëŠ” ë„“ì–´ì„œ ë‹¨ì²´ë„ OK',
      '{name}ì˜ ë””ì €íŠ¸ë„ ë§›ìˆì–´ìš”',
      '{name} í• ì¸ ì´ë²¤íŠ¸ê°€ ë§ì•„ìš”',
      '{name}ëŠ” ë°°ë‹¬ë„ ë¹¨ë¼ìš”',
      '{name}ì˜ ì–‘ì´ í‘¸ì§í•´ìš”',
      '{name} ë§¤ì¥ì´ ê¹¨ë—í•´ìš”'
    ],
    'ì•¼ì‹': [
      '{name}ëŠ” ìƒˆë²½ ë°°ë‹¬ë„ ê°€ëŠ¥',
      '{name}ì˜ ì¹˜í‚¨ì´ ì•¼ì‹ìœ¼ë¡œ ìµœê³ ',
      '{name} ë²„ê±° ì„¸íŠ¸ê°€ ë“ ë“ í•´ìš”',
      '{name}ëŠ” ë§¥ì£¼ë‘ ì˜ ì–´ìš¸ë ¤ìš”',
      '{name}ì˜ í•«ìœ™ì´ ë§¤ì½¤í•´ìš”',
      '{name} 24ì‹œê°„ ë°°ë‹¬ ê°€ëŠ¥',
      '{name}ëŠ” í¬ì¥í• ì¸ì´ ìˆì–´ìš”',
      '{name}ì˜ ê°ìíŠ€ê¹€ì´ ì¤‘ë…ì„± ìˆì–´ìš”',
      '{name} ì½œë¼ê°€ ì‹œì›í•´ìš”',
      '{name}ëŠ” ì•¼ì‹ ë©”ë‰´ê°€ ë‹¤ì–‘í•´ìš”'
    ]
  },
  'ë””ì €íŠ¸': {
    'ì¹´í˜íˆ¬ì–´': [
      '{name}ì˜ ë§ˆì¹´ë¡±ì´ ì«€ë“í•´ìš”',
      '{name} ì¼€ì´í¬ê°€ ë¹„ì£¼ì–¼ ìµœê³ ',
      '{name}ì˜ í¬ë¡œì™€ìƒì´ ë²„í„° í–¥ ê°€ë“',
      '{name} íƒ€ë¥´íŠ¸ê°€ ìƒí¼í•´ìš”',
      '{name}ì˜ í‘¸ë”©ì´ ë¶€ë“œëŸ¬ì›Œìš”',
      '{name} ì ¤ë¼ë˜ê°€ ì§„ì§œ ì´íƒˆë¦¬ì•„ì‹',
      '{name}ì˜ ë„ë„›ì´ í­ì‹ í•´ìš”',
      '{name} ì¿ í‚¤ê°€ ë°”ì‚­í•´ìš”',
      '{name}ëŠ” ê³„ì ˆ ë©”ë‰´ê°€ íŠ¹ë³„í•´ìš”',
      '{name}ì˜ ë¸Œë¼ìš°ë‹ˆê°€ ì§„í•´ìš”'
    ],
    'ë°ì´íŠ¸ì½”ìŠ¤': [
      '{name}ì˜ ì¼€ì´í¬ê°€ ì»¤í”Œ ì„¸íŠ¸ë¡œ ì¢‹ì•„ìš”',
      '{name}ëŠ” ë¶„ìœ„ê¸°ê°€ ë‹¬ë‹¬í•´ìš”',
      '{name}ì˜ ë§ˆì¹´ë¡± ì„ ë¬¼ì„¸íŠ¸ê°€ ì˜ˆë»ìš”',
      '{name} ì•„ì´ìŠ¤í¬ë¦¼ì´ ìˆ˜ì œì—ìš”',
      '{name}ëŠ” í…Œë¼ìŠ¤ê°€ ë¡œë§¨í‹±í•´ìš”',
      '{name}ì˜ ì™€í”Œì´ ì¸ìŠ¤íƒ€ ê°ì„±',
      '{name} ì´ˆì½œë¦¿ì´ ê³ ê¸‰ìŠ¤ëŸ¬ì›Œìš”',
      '{name}ëŠ” ì»¤í”¼ì™€ í˜ì–´ë§ì´ ì¢‹ì•„ìš”',
      '{name}ì˜ ë°€í¬í‹°ê°€ ë‹¬ì½¤í•´ìš”',
      '{name} íŒŒë¥´í˜ê°€ ë¹„ì£¼ì–¼ ìµœê³ '
    ]
  },
  'ë¶„ì‹': {
    'ë§›ì§‘íˆ¬ì–´': [
      '{name}ì˜ ë–¡ë³¶ì´ê°€ ë§¤ì½¤ë‹¬ì½¤',
      '{name} ìˆœëŒ€ê°€ ì«„ê¹ƒí•´ìš”',
      '{name}ì˜ ê¹€ë°¥ì´ ì†ì´ ê½‰ ì°¨ìˆì–´ìš”',
      '{name} íŠ€ê¹€ì´ ë°”ì‚­í•´ìš”',
      '{name}ì˜ ë¼ë³¶ì´ê°€ ì¤‘ë…ì„± ìˆì–´ìš”',
      '{name} ì«„ë©´ì´ ìƒˆì½¤ë‹¬ì½¤',
      '{name}ì˜ ì–´ë¬µ êµ­ë¬¼ì´ ì‹œì›í•´ìš”',
      '{name} ë§Œë‘ê°€ ì†ì´ ê½‰ ì°¨ìˆì–´ìš”',
      '{name}ëŠ” 40ë…„ ì „í†µì´ì—ìš”',
      '{name}ì˜ ê¹€ì¹˜ë³¶ìŒë°¥ì´ ë§›ìˆì–´ìš”'
    ],
    'í˜¼ë°¥': [
      '{name}ëŠ” 1ì¸ë¶„ë„ ë¶€ë‹´ì—†ì–´ìš”',
      '{name}ì˜ ê¹€ë°¥ í•œ ì¤„ì´ë©´ ë“ ë“ ',
      '{name} ì»µë–¡ë³¶ì´ê°€ ê°„í¸í•´ìš”',
      '{name}ëŠ” ë¹¨ë¦¬ ë‚˜ì™€ìš”',
      '{name}ì˜ ë¼ë©´ì´ ê¼¬ë“¤ê¼¬ë“¤',
      '{name} ê°€ê²©ì´ ì°©í•´ìš”',
      '{name}ëŠ” í¬ì¥ë„ ê°„í¸í•´ìš”',
      '{name}ì˜ ì„¸íŠ¸ë©”ë‰´ê°€ ì•Œì°¨ìš”',
      '{name} í˜¼ë°¥ì¡±ì´ ë§ì•„ìš”',
      '{name}ëŠ” 24ì‹œê°„ ì˜ì—…ì´ì—ìš”'
    ],
    'ì•¼ì‹': [
      '{name}ì˜ ë–¡ë³¶ì´ëŠ” ì•¼ì‹ í•„ìˆ˜',
      '{name} ìˆœëŒ€ê°€ ìˆ ì•ˆì£¼ë¡œ ì¢‹ì•„ìš”',
      '{name}ëŠ” í¬ì¥ ê°€ëŠ¥í•´ìš”',
      '{name}ì˜ íŠ€ê¹€ì´ ë§¥ì£¼ ì•ˆì£¼ë¡œ ìµœê³ ',
      '{name} ë¼ë³¶ì´ê°€ í•´ì¥ì— ì¢‹ì•„ìš”',
      '{name}ëŠ” ìƒˆë²½ê¹Œì§€ ì˜ì—…í•´ìš”',
      '{name}ì˜ ì˜¤ë…íƒ•ì´ ì†ì„ ë‹¬ë˜ì¤˜ìš”',
      '{name} ê¹€ë°¥ì´ ì•¼ì‹ìœ¼ë¡œ ë¶€ë‹´ì—†ì–´ìš”',
      '{name}ëŠ” ë°°ë‹¬ë„ ê°€ëŠ¥í•´ìš”',
      '{name}ì˜ ë–¡ë³¶ì´ê°€ ë§¤ì›Œì„œ ìˆ ì´ ë“¤ì–´ê°€ìš”'
    ]
  }
};

// ì¹´í…Œê³ ë¦¬ê°€ ì—†ê±°ë‚˜ ë§¤ì¹­ ì•ˆë  ë•Œ ê¸°ë³¸ í…œí”Œë¦¿
const defaultReasons = [
  '{name}ëŠ” ì •ë§ ë§›ìˆì–´ìš”',
  '{name}ì˜ ìŒì‹ì´ ìµœê³ ì˜ˆìš”',
  '{name}ëŠ” ê¼­ ê°€ë´ì•¼ í•  ê³³',
  '{name}ì˜ ë¶„ìœ„ê¸°ê°€ ì¢‹ì•„ìš”',
  '{name}ëŠ” ì„œë¹„ìŠ¤ê°€ í›Œë¥­í•´ìš”',
  '{name}ì˜ ê°€ì„±ë¹„ê°€ ìµœê³ ',
  '{name}ëŠ” ì¬ë°©ë¬¸ ì˜ì‚¬ 100%',
  '{name}ì˜ ë©”ë‰´ê°€ ë‹¤ì–‘í•´ìš”',
  '{name}ëŠ” ì£¼ì°¨ê°€ í¸í•´ìš”',
  '{name}ì˜ ìœ„ì¹˜ê°€ ì¢‹ì•„ìš”'
];

function getReasonForRestaurant(restaurant, playlistCategory) {
  // ë ˆìŠ¤í† ë‘ ì¹´í…Œê³ ë¦¬ì™€ í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ì¹´í…Œê³ ë¦¬ë¡œ í…œí”Œë¦¿ ì°¾ê¸°
  const templates = reasonTemplates[restaurant.category]?.[playlistCategory];
  
  if (templates && templates.length > 0) {
    // ëœë¤í•˜ê²Œ í•˜ë‚˜ ì„ íƒ
    const template = templates[Math.floor(Math.random() * templates.length)];
    // {name}ì„ ì‹¤ì œ ë ˆìŠ¤í† ë‘ ì´ë¦„ìœ¼ë¡œ ì¹˜í™˜
    return template.replace(/{name}/g, restaurant.name);
  }
  
  // ì¹´í…Œê³ ë¦¬ë³„ ê¸°ë³¸ í…œí”Œë¦¿ì´ ì—†ìœ¼ë©´ ì „ì²´ ê¸°ë³¸ í…œí”Œë¦¿ ì‚¬ìš©
  const defaultTemplate = defaultReasons[Math.floor(Math.random() * defaultReasons.length)];
  return defaultTemplate.replace(/{name}/g, restaurant.name);
}

async function fixPlaylistReasons() {
  try {
    await mongoose.connect(process.env.MONGODB_URI);
    console.log('MongoDB ì—°ê²° ì„±ê³µ');

    // ëª¨ë“  í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ
    const playlists = await Playlist.find({})
      .populate('restaurants.restaurant');

    console.log(`${playlists.length}ê°œì˜ í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ë°œê²¬`);

    let totalUpdated = 0;

    for (const playlist of playlists) {
      let updated = false;
      
      // ê° ë ˆìŠ¤í† ë‘ì˜ ì¶”ê°€ ì´ìœ  ì—…ë°ì´íŠ¸
      for (let i = 0; i < playlist.restaurants.length; i++) {
        const restaurantItem = playlist.restaurants[i];
        if (restaurantItem.restaurant) {
          const restaurant = restaurantItem.restaurant;
          const oldReason = playlist.restaurants[i].reason;
          const newReason = getReasonForRestaurant(restaurant, playlist.category);
          
          if (oldReason !== newReason) {
            playlist.restaurants[i].reason = newReason;
            updated = true;
            console.log(`  - ${restaurant.name} (${restaurant.category}): ${newReason}`);
          }
        }
      }

      if (updated) {
        await playlist.save();
        totalUpdated++;
        console.log(`âœ… ì—…ë°ì´íŠ¸ ì™„ë£Œ: ${playlist.title}`);
      }
    }

    console.log(`\nâœ… ì´ ${totalUpdated}ê°œ í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸ ì™„ë£Œ!`);
    
    // ìƒ˜í”Œ í™•ì¸
    console.log('\nğŸ“‹ ì—…ë°ì´íŠ¸ ìƒ˜í”Œ í™•ì¸:');
    const samplePlaylist = await Playlist.findOne({})
      .populate('restaurants.restaurant');
    
    if (samplePlaylist) {
      console.log(`í”Œë ˆì´ë¦¬ìŠ¤íŠ¸: ${samplePlaylist.title} (${samplePlaylist.category})`);
      samplePlaylist.restaurants.slice(0, 3).forEach(item => {
        if (item.restaurant) {
          console.log(`  - ${item.restaurant.name} (${item.restaurant.category}): ${item.reason}`);
        }
      });
    }
    
    process.exit(0);
  } catch (error) {
    console.error('âŒ ì—ëŸ¬ ë°œìƒ:', error);
    process.exit(1);
  }
}

fixPlaylistReasons();